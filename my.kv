<Main>

    tab_width: (self.content.width - 5) / 3
    do_default_tab: False
    padding: (5, 5)
    tab_pos: 'bottom_mid'
    TabbedPanelItem:
        text: 'Transakcje'
        orientation: "vertical"
        BoxLayout:
            height: "40dp"
            size_hint_y: None
            Spinner:
                size_hint_x: 20
                font_size: 0.15 * self.width
                text: 'from'
                values: app.assets_held
                on_text:
                    app.currency1 = self.text
            Spinner:
                size_hint_x: 20
                font_size: 0.15 * self.width
                text: 'to'
                values: 'TSLA', 'AAPL', 'BABA'
                on_text:
                    app.currency2 = self.text
            TextInput:
                size_hint_x: 20
                text: 'amount'
                on_focus: app.volume = self.text
            Spinner:
                size_hint_x: 20
                font_size: 0.15 * self.width
                text:'year'
                values: '2001', '2002', '2003', '2004', '2005', '2006', '2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014', '2015', '2016','2017', '2018', '2019', '2020', '2021', '2022'
                on_text:
                    app.dateyear = self.text
            Spinner:
                size_hint_x: 20
                font_size: 0.15 * self.width
                text:'month'
                values: '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12',
                on_text:
                    app.datemonth = self.text
            Spinner:
                size_hint_x: 20
                font_size: 0.15 * self.width
                text:'day'
                values: '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'
                on_text:
                    app.dateday = self.text
            Button:
                text: 'submit'
                size_hint_x: 25
                on_press: app.make_transaction(app.conn_tr, app.date_to_epoch(app.dateyear, app.datemonth, app.dateday), app.currency1, app.currency2, app.volume)

    TabbedPanelItem:
        text: 'Portfel'
        FloatLayout:
            Image:
                pos_hint: {'center_x': 0.5, 'center_y': 0.8}
                size_hint: 0.6, 0.3
                id: img
                source: app.get_image()
                allow_stretch: True
                keep_ratio: False
                #size: self.parent.size
            Spinner:
                size_hint: 0.2, 0.1

                font_size: 0.15 * self.width
                pos_hint: {'center_x': 0.3, 'center_y': 0.6}
                text: 'Interval'
                values: '1m', '5m', '15m', '1h', '1d', '5d', '1wk', '1mo'
                on_text:
                    app.interval = self.text
            Spinner:
                size_hint: 0.2, 0.1

                font_size: 0.15 * self.width
                pos_hint: {'center_x': 0.7, 'center_y': 0.6}
                text: 'Period'
                values: '1d', '5d', '1mo', '3mo', '6mo', '1y', '2y', '5y', '10y', 'ytd', 'max'
                on_text:
                    app.period = self.text
            Spinner:
                size_hint: 0.2, 0.1

                font_size: 0.15 * self.width
                pos_hint: {'center_x': 0.5, 'center_y': 0.6}
                text: 'Asset'
                values: app.assets_held
                on_text:
                    app.asset = self.text
            Button:
                size_hint: 0.2, 0.1

                font_size: 0.15 * self.width
                pos_hint: {'center_x': 0.5, 'center_y': 0.4}
                text: 'Show'
                on_press:
                    app.stock_data(app.asset ,app.period,app.interval, 'Open')
                    app.get_image()
                on_release:
                    Image.reload()
    TabbedPanelItem:
        text: 'Wiadomo≈õci'
        BoxLayout:
            orientation: 'vertical'
            Button:
                canvas.before:
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 1
                        rectangle: self.x, self.y, self.width, self.height
                text: 'news 1'
            Button:
                canvas.before:
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 1
                        rectangle: self.x, self.y, self.width, self.height
                text: 'news 2'
            Button:
                canvas.before:
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 1
                        rectangle: self.x, self.y, self.width, self.height
                text: 'news 3'
